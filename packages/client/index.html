<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      html,
      body {
        width: 100%;
        height: 100%;
        pointer-events: none;
      }
      #__vconsole{
        pointer-events : auto;
      }
    </style>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no"
    />

    <!-- PWA primary color -->
    <meta name="description" content="Connected Worlds for Everyone" />
    <meta name="monetization" content="<%- paymentPointer %>" data-react-helmet="true" />
    <title><%- title %></title>
    <script type="text/javascript" src="https://cdn.bootcss.com/vConsole/3.3.0/vconsole.min.js"></script>
    <script>
      const href = window.location.href
      if(href.includes('debug')){
        var vConsole = new VConsole();
        console.log('Hello world');
      }
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="<%- appleTouchIcon %>" data-react-helmet="true" />
    <link rel="icon" type="image/png" sizes="32x32" href="<%- favicon32px %>" data-react-helmet="true" />
    <link rel="icon" type="image/png" sizes="16x16" href="<%- favicon16px %>" data-react-helmet="true" />
    <link rel="manifest" href="<%- webmanifestLink %>" data-react-helmet="true" />
    <!-- <link href="http//://fonts.cdnfonts.com/css/arial-rounded-mt-bold" rel="stylesheet"> -->
    <script>
      var global = globalThis
      var exports = { __esModule: true }
    </script>
    <script>
      function docReady(fn) {
        // see if DOM is already available
        if (document.readyState === "complete" || document.readyState === "interactive") {
            // call on next available tick
            setTimeout(fn, 1);
        } else {
            document.addEventListener("DOMContentLoaded", fn);
        }
      }
      var audiosWeWantToUnlock = []
      function unlockAudio() {
        audiosWeWantToUnlock.push(new Audio('https://meta-static.qingmeta.cn/BGYvideo/%E6%8A%95%E7%A5%A8%E5%8C%BA%E5%BC%95%E5%AF%BC%E6%8A%95%E7%A5%A8.mp3'))
        audiosWeWantToUnlock.push(new Audio('https://meta-static.qingmeta.cn/BGYvideo/%E6%8A%95%E7%A5%A8%E5%8C%BA%E6%B8%A9%E9%A6%A8%E6%8F%90%E7%A4%BA.mp3'))
        audiosWeWantToUnlock.push(new Audio('https://meta-static.qingmeta.cn/BGYvideo/%E6%8A%95%E7%A5%A8%E5%8C%BA%E5%BC%95%E5%AF%BC%E7%95%99%E8%A8%80.mp3'))
        audiosWeWantToUnlock.push(new Audio('https://meta-static.qingmeta.cn/BGYvideo/%E6%8A%BD%E5%A5%96%E5%8C%BA%20%E7%8E%AF%E8%8A%82%E4%BB%8B%E7%BB%8D.mp3'))
        audiosWeWantToUnlock.push(new Audio('https://meta-static.qingmeta.cn/BGYvideo/%E6%8A%BD%E5%A5%96%E5%8C%BA%E6%AC%A1%E6%97%A5%E5%8F%AC%E5%9B%9E.mp3'))
        audiosWeWantToUnlock.push(new Audio('https://meta-static.qingmeta.cn/BGYvideo/%E5%8F%82%E8%A7%82%E5%8C%BA%E6%AC%A2%E8%BF%8E%E8%AF%AD.mp3'))
        audiosWeWantToUnlock.push(new Audio('https://meta-static.qingmeta.cn/BGYvideo/%E5%8F%82%E8%A7%82%E5%8C%BA%E5%88%9B%E6%96%B0%E8%8A%82%E4%BB%8B%E7%BB%8D.mp3'))
        if(audiosWeWantToUnlock) {
          for(let audio of audiosWeWantToUnlock) {
           audio.play()
           audio.pause()
           audio.currentTime = 0
          }
        }
        audiosWeWantToUnlock = null 
        document.body.removeEventListener('click', unlockAudio)
        document.body.removeEventListener('touchstart', unlockAudio)
      }
       //where earlier you did:
       docReady(function(){
          document.body.addEventListener('click', unlockAudio);
          document.body.addEventListener('touchstart', unlockAudio);
       })
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script type="module" src="/pwabuilder-sw-register.js"></script>
    <canvas id='engine-renderer-canvas' style='z-index: -1; width: 100%; height: 100%; position: fixed; -webkit-user-select: none; pointer-events: auto; user-select: none'></canvas>
  </body>
</html>